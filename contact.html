<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAONTACT</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $(function(){
            $("#sub").click(function(){
                let user_nom = $("#nom").val();
                let user_prenom = $("#prenom").val();
                let user_email = $("#email").val();
                let user_sujet = $("#sujet").val();
                let user_message = $("#message").val();
                console.log(user_nom,user_prenom, user_email, user_sujet, user_message);
                $.ajax({
                    url:'db.php', 
                    type:'POST',
                    data:{nom:user_nom, prenom:user_prenom, email:user_email, sujet:user_sujet, message:user_message},
                    success: function(data){
                        $("#result").html(data);
                    }
                })
            })
        })
    </script>
    <style>
        h1, form{text-align: center;} form{ margin: 5%;}
    </style>
</head>
<body>      
    <h1>ENVOI DU FORMULAIRE AVEC LA METHODE AJAX</h1>                          
    <form action="" method="post" onsubmit="return false">
        <p>
            <label for="nom">*Nom :</label>
            <br>
            <input type="text" name="nom" id="nom" placeholder="votre nom" required>
        </p>
        <p>
            <label for="prenom">*Prénom :</label>
            <br>
            <input type="text" name="prenom" id="prenom" placeholder="votre prénom" required>
        </p>
        <p>
            <label for="email">*Email :</label>
            <br>
            <input type="email" name="email" id="email" placeholder="votre email" required>
        </p>
        <p>
            <label for="sujet">Sujet :</label>
            <br>
            <input type="text" name="sujet" id="sujet" placeholder="votre sujet">
        </p>
        <p>
            <label for="message">Message :</label>
            <br>
            <textarea name="message" id="message" cols="30" rows="10"></textarea>
        </p>
        <input type="submit" id="sub" value="ENVOYER">
    </form>

    <div id="result">

    </div>
</body>
</html>